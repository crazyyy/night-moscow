function initialise_scrollspy(){scrollspy()}function initialise_history(){history()}function scrollspy(){jQuery(".post-divider").on("scrollSpy:exit",changeURL),jQuery(".post-divider").on("scrollSpy:enter",changeURL),jQuery(".post-divider").scrollSpy()}function history(){History.Adapter.bind(window,"statechange",function(){var a=History.getState();a.url!=curr_url&&window.location.reload(a.url)})}function changeURL(){var a=jQuery(this),b=a.attr("data-url"),c=a.attr("data-title"),d=a.offset(),e=jQuery(document).scrollTop();d.top-e<150&&curr_url!=b&&(curr_url=b,History.pushState(null,c,b),"yes"==track_pageviews&&update_google_analytics()),auto_load_next_post()}function update_google_analytics(){if("undefined"!==typeof pageTracker||"undefined"!==typeof _gaq||"undefined"!==typeof ga||"undefined"!==typeof __gaTracker){var a=window.location.pathname;"undefined"!==typeof pageTracker&&null!==pageTracker&&pageTracker._trackPageview(a),"undefined"!==typeof _gaq&&null!==_gaq&&_gaq.push(["_trackPageview",a]),"undefined"!==typeof ga&&null!==_ga&&ga("send","pageview",a),"undefined"!==typeof __gaTracker&&null!==__gaTracker&&__gaTracker("send","pageview",a)}}function auto_load_next_post(){var a=jQuery('a[rel="prev"]').attr("href");if(a){if(a.indexOf("?p=")>-1)np_url=a+"&partial=1";else{var b="partial/";"/"!=a.charAt(a.length-1)&&(b="/"+b),np_url=a+b}jQuery(nav_container).remove(),jQuery.get(np_url,function(b){var c=jQuery("<div>"+b+"</div>");b=c.html();var d=jQuery('<hr class="post-divider" data-url="'+a+'"/>'+b),e=d.find(post_title_selector);jQuery(content_container).append(d),jQuery('hr[data-url="'+a+'"]').attr("data-title",e.text()).css("display","inline-block"),scrollspy()})}}var content_container=auto_load_next_post_params.alnp_content_container,post_title_selector=auto_load_next_post_params.alnp_title_selector,nav_container=auto_load_next_post_params.alnp_navigation_container,comments_container=auto_load_next_post_params.alnp_comments_container,remove_comments=auto_load_next_post_params.alnp_remove_comments,track_pageviews=auto_load_next_post_params.alnp_google_analytics,curr_url=window.location.href;jQuery.noConflict(),jQuery(document).ready(function(){window.location.href.indexOf("#comments")>-1||("yes"===remove_comments&&jQuery(comments_container).remove(),jQuery(content_container).prepend('<hr style="height: 0" class="post-divider" data-title="'+window.document.title+'" data-url="'+window.location.href+'"/>'),initialise_scrollspy(),initialise_history())});
